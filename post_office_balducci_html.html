<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GCDS Post Office</title>
  <script>
    function main() {
      // get values
      let length = parseFloat(document.getElementById("length").value);
      let height = parseFloat(document.getElementById("height").value);
      let width = parseFloat(document.getElementById("width").value);
      let zipfrom = parseInt(document.getElementById("zipfrom").value);
      let zipto = parseInt(document.getElementById("zipto").value);

      // check if something is missing or not a number
      if (!length || !height || !width || !zipfrom || !zipto) {
        document.getElementById("result").innerText = "error: enter all numbers";
        return;
      }

      // figure out package class
      let pack;
      if (length >= 3.5 && length <= 4.25 && width >= 0.007 && width <= 0.016 && height >= 3.5 && height <= 6) {
        pack = 1;
      } else if (length >= 4.25 && length <= 6 && width >= 0.007 && width <= 0.015 && height >= 6 && height <= 11.5) {
        pack = 2;
      } else if (length >= 3.5 && length <= 6.125 && width >= 0.016 && width <= 0.25 && height >= 5 && height <= 11.5) {
        pack = 3;
      } else if (length >= 6.125 && length <= 24 && width >= 0.25 && width <= 0.5 && height >= 11 && height <= 18) {
        pack = 4;
      } else if ((length > 24 || width > 0.5 || height > 18) && (length + 2 * (width + height) < 84)) {
        pack = 5;
      } else if ((length > 24 || width > 0.5 || height > 18) && (length + 2 * (width + height) >= 84 && length + 2 * (width + height) < 130)) {
        pack = 6;
      } else {
        pack = "unmailable";
      }

      // find zones
      function zone(zip) {
        if (zip >= 1 && zip <= 6999) return 1;
        else if (zip <= 19999) return 2;
        else if (zip <= 35999) return 3;
        else if (zip <= 62999) return 4;
        else if (zip <= 84999) return 5;
        else if (zip <= 99999) return 6;
        else return -1;
      }

      let zone1 = zone(zipfrom);
      let zone2 = zone(zipto);
      let distance = Math.abs(zone1 - zone2);

      // calculate cost
      let total = 0;
      if (pack === "unmailable" || zone1 === -1 || zone2 === -1) {
        document.getElementById("result").innerText = "unmailable";
        return;
      }

      let base = 0;
      let extra = 0;

      if (pack == 1) { base = .20; extra = .03; }
      else if (pack == 2) { base = .37; extra = .03; }
      else if (pack == 3) { base = .37; extra = .04; }
      else if (pack == 4) { base = .60; extra = .05; }
      else if (pack == 5) { base = 2.95; extra = .25; }
      else if (pack == 6) { base = 3.95; extra = .35; }

      total = base + (distance * extra);
      let final = total.toFixed(2);

      document.getElementById("result").innerText = "Cost: $" + final;
    }
  </script>
</head>
<body>
  <h2>Shipping Cost Calculator</h2>

  <input id="length" placeholder="length (inches)">
  <input id="height" placeholder="height (inches)">
  <input id="width" placeholder="width (inches)">
  <input id="zipfrom" placeholder="zip from">
  <input id="zipto" placeholder="zip to">
  <button onclick="main()">calculate cost</button>

  <p id="result"></p>
</body>
</html>
